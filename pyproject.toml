# ------------------------------------------------------------
#  üì¶  PYPROJECT.TOML
#  –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–∞–∫–µ—Ç–∞ –Ω–∞ PyPI.
#  –ö–æ—Ä–Ω–µ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ  src/
# ------------------------------------------------------------

[build-system]
requires = ["setuptools>=68", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name            = "smeller_db"          #  –ò–∑–º–µ–Ω–∏—Ç–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
version         = "0.1.0"
description     = "Sync & async ORM-–∫–ª–∏–µ–Ω—Ç, —Å–µ—Ä–≤–∏—Å-—Å–ª–æ–π –∏ CLI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Aroma-–¥–∞–Ω–Ω—ã–º–∏."
readme          = "README.md"
requires-python = ">=3.9"

authors = [
    { name="SL", email="info@sensorylab.ru" },
]

license = { text = "MIT" }

keywords = [
    "SQLAlchemy", "asyncpg", "ORM", "database", "aroma", "pydantic", "rich", "typer",
]

# --- –ü—Ä–æ–¥–∞–∫—à–µ–Ω-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ---------------------------------
dependencies = [
    "SQLAlchemy>=2.0,<3.0",
    "asyncpg>=0.29",            # async-–¥—Ä–∞–π–≤–µ—Ä PostgreSQL
    "psycopg2-binary>=2.9",     # sync-–¥—Ä–∞–π–≤–µ—Ä PostgreSQL
    "pydantic>=2.5",            # –≤ –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Pydantic v2
    "rich>=13.0",               # –∫—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
    "typer[all]>=0.9",          # CLI-—É—Ç–∏–ª–∏—Ç—ã (–≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
    "python-dotenv>=1.0",       # —á—Ç–µ–Ω–∏–µ .env
]

# --- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ ¬´–≥—Ä—É–ø–ø—ã¬ª –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π -------------------
[project.optional-dependencies]
dev = [
    "pytest>=7.4",
    "black>=23.10",
    "isort>=5.12",
    "mypy>=1.6",
]

docs = [
    "mkdocs-material>=9.5",
]

# --- URL-—ã –¥–ª—è PyPI-–∫–∞—Ä—Ç–æ—á–∫–∏ –ø–∞–∫–µ—Ç–∞ -------------------------
[project.urls]
Homepage        = "https://github.com/sensoryfox/smeller_db"
Documentation   = "https://github.com/sensoryfox/smeller_db#readme"
Issues          = "https://github.com/sensoryfox/smeller_db/issues"
Changelog       = "https://github.com/sensoryfox/smeller_db/blob/main/CHANGELOG.md"

# --- –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ entry-points (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –ø–∞–∫–µ—Ç–æ–º)
[project.scripts]
smeller_db = "src.tools.db_cli:app"   # `smeller_db --help`

# --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ setuptools (–ø–æ–∏—Å–∫ –ø–∞–∫–µ—Ç–æ–≤ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ src) ----
[tool.setuptools]
package-dir = {"" = "src"}

[tool.setuptools.packages.find]
where = ["src"]